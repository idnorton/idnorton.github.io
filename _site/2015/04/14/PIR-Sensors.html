<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=3e3eef6aaa4dc2ca4725ac2d3d48d5e4eeb8bd8f" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Is there anybody there? Click once for yes! | Ian Norton</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Is there anybody there? Click once for yes!" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Is there anybody there? Click once for yes!" />
<meta property="og:description" content="Is there anybody there? Click once for yes!" />
<link rel="canonical" href="http://localhost:4000/2015/04/14/PIR-Sensors.html" />
<meta property="og:url" content="http://localhost:4000/2015/04/14/PIR-Sensors.html" />
<meta property="og:site_name" content="Ian Norton" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-04-14T00:00:00+00:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/2015/04/14/PIR-Sensors.html","headline":"Is there anybody there? Click once for yes!","dateModified":"2015-04-14T00:00:00+00:00","datePublished":"2015-04-14T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2015/04/14/PIR-Sensors.html"},"description":"Is there anybody there? Click once for yes!","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>Ian Norton</h1>
        </a>
        <h2>Website and blog</h2>
        
          <a href="https://github.com/idnorton/idnorton.github.io" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="is-there-anybody-there-click-once-for-yes">Is there anybody there? Click once for yes!</h1>

<p>So following on from my <a href="https://hackaday.io/project/4857-commercial-home-automation/log/16130-switches-are-simple-right">previous post about switches</a>, let’s talk about Passive Infra Red (PIR) sensors.</p>

<p>Previously posted on <a href="https://lamm.space/2015/04/14/is-there-anybody-there-click-once-for-yes/">LAMM Space</a></p>

<h2 id="loxone-presence-sensor">Loxone Presence Sensor</h2>

<p>Cost: OMG HOW MUCH?!<br />
Summary: No way in hell I’m buying one at that price<br />
Supplier: Loxone</p>

<p><img src="/assets/2015-04-14/loxone-presence-sensor_0-300x196.png" alt="Round surface mount PIR from Loxone" /></p>

<p>Wow, the price of this is staggering. It’s got a light level sensor and a PIR in it. I’m not going to buy one, but I’m including it here without much comment.
Manufacturers site – <a href="http://shop.loxone.com/enuk/presence-sensor.html">http://shop.loxone.com/enuk/presence-sensor.html</a></p>

<h2 id="generic-presence-sensor">Generic presence sensor</h2>

<p>Cost: Low (£10)<br />
Summary: Not quite what I’m after, but I can hack this.<br />
Supplier: Low Energy Supermarket Ebay shop</p>

<p><img src="/assets/2015-04-14/generic-pir-300x212.jpg" alt="Side image of PIR" /></p>

<p>I purchased this with the thought that I would place them in some rooms outside of the automation system like the toilet and possibly the kitchen. I ran it in the kitchen for a while until it finally started to annoy me. There’s an adjustable timer and light level sensor which means that once the light drops below a certain level the PIR will activate the light until no presence is detected and the timer runs down. It’s 240v mains, which isn’t great for working with, so having gotten annoyed with it and removed it (Claire nearly cut herself after the lights in the kitchen went out) I took it apart for a looksee.</p>

<p><img src="/assets/2015-04-14/generic-pir-insides01-300x169.jpg" alt="PIR initial disassembly" /></p>

<p>So what’s the black tube? It’s a fuse, that’s a good thing. Otherwise not much of interest.</p>

<p><img src="/assets/2015-04-14/generic-pir-insides02-291x300.jpg" alt="PIR PCB before modification" /></p>

<p>Oh hello! That’s a 24v relay. That means that we’re looking at a 24v DC supply. <em>grin</em> The Loxone kit is 24v DC, which I don’t think I’ve mentioned so far. The two circuit boards are a mains power supply and the combined PIR and logic board with the two variable resistors on. Removing or modifying the back board <em>should</em> give us a board that we can power with 24v and will trigger a 24v line when activity and suitable light level are detected. We don’t actually care about the light level or the timer so we can turn both right down. Now we have something we can connect directly to a Loxone digital input and feed into a lighting controller block for a fraction of the cost of the official presence sensor. This I like :)</p>

<p>Purchased from Low Energy Supermarket Ebay Shop – <a href="http://www.ebay.co.uk/itm/230776895665">http://www.ebay.co.uk/itm/230776895665</a></p>

<h2 id="hacking-the-generic-pir">Hacking the generic PIR</h2>

<p>Some time after writing the top half of this post, I got to the testing. Tests on the generic PIR revealed that indeed it was 24v as expected. A simple full wave rectification circuit with four 1N4007 diodes, a couple of capacitors, a signal diode and a couple of resistors.</p>

<p><img src="/assets/2015-04-14/generic-pir-surplus-components_0-150x150.jpg" alt="Components removed from PIR" />
<img src="/assets/2015-04-14/2015-04-08-19.23.58-150x150.jpg" alt="PIR PCB with components removed" />
<img src="/assets/2015-04-14/2015-04-08-19.00.48_0-150x150.jpg" alt="PIR PCB back in housing" /></p>

<p>Turns out the signal diode was mostly redundant as far as I can tell, it’s included to eliminate back EMF but that’s actually dealt with by one of the power diodes without need for it. Eh, I put one of the power diodes back in and removed the signal diode.</p>

<p><img src="/assets/2015-04-14/2015-04-08-19.38.26_1-255x300.jpg" alt="PIR PCB standing vertically" /></p>

<p>So testing! Lets see what the current consumption is like on this after the modification</p>

<p><img src="/assets/2015-04-14/generic-pir-current-off-300x138.jpg" alt="" />
<img src="/assets/2015-04-14/generic-pir-current-on-300x140.jpg" alt="" /></p>

<p>Huzzah! 24v DC PIR with low current consumption and low cost. Our terminals are now switched 24v DC, 0v and +24v DC enabling us to use this on an input as suggested above. The input can then be mapped to the sensor input on the lighting controller and programming via the Loxone as documented.</p>

<p>I’m very happy with this money saving hack and will be buying a few more of these sensors in the very near future!</p>

        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/idnorton/idnorton.github.io">idnorton.github.io</a> is maintained by <a href="https://github.com/idnorton">idnorton</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

    
  </body>
</html>
